# Python TCP Server-Client Communication Timer

This is a simple Python example of Server and Client communication. 
The Client sends messages to Server with an UUID string and the Server response contains the same UUID with the delta time from previous message.
This can be used the check the latency in the communication between both parts.
The Server can listen up to 5 incoming Client connections and it uses TCP sockets.

## Features

### Server:

* Accepts multiple client connections.
* Configurable host, port, and timeout settings.
* Gracefully handles timeouts and shutdowns.
* Sends and receives messages.
* Sends back messages with the delta time from previous message

### Client:

* Connects to the server with a specified host and port.
* Sends messages to the server and receives responses.
* Configurable timeout for connection and data transmission.

## Requirements

Python 3.7 or higher

## Usage

### Server (ServerTimer)

For detailed instructions run
```
python3 ServerTimer.py --help
```

Running using default values
* port = (optional argument e.g. 47945) this is the port where is waiting for Client connections
```
python3 ServerTimer.py
```

### Client (ClientTimerRequester)

For detailed instructions run
```
python3 ClientTimerRequester.py --help
```

Running using default values
* num_msgs = (required argument e.g. 100) Number of messages sent by the Client to the Server
* host = (optional argument e.g. 127.0.0.1) the remote address where the Server is listening
* port = (optional argument e.g. 47945) the remote port where the server is listening
* timeout = (optional argument e.g. 5) value in seconds for timeout on sockets operations
```
python3 ClientTimerRequester.py --num_msgs 100
```

## Logging

The logs generated by Server and Client are located in the logs/ directory.
They are rotative logging files, after about 2 MB, the old log entries are overwritten.

## Testing

Tests are written using pytest and are located in the tests/ directory.
```
pytest tests/test_server_client.py 
```

## TODOs

* Add dependency injection for better testability, mainly on the transportation layer to allow mocks
* Improve Shutdown process by acknowledge the other part first and free the resources
* Extend test cases to cover not nominal scenarios and test error handling